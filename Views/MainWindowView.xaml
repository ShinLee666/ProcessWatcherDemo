<Window x:Class="进程查看器.Views.MainWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:进程查看器.ViewModels"
        d:DataContext="{d:DesignInstance Type=viewModels:MainWindowViewModel}"
        mc:Ignorable="d"
        prism:ViewModelLocator.AutoWireViewModel="True"
        Style="{StaticResource MaterialDesignWindow}"
        Title="LXY进程查看器" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <!-- 左侧进程树，展示进程ID、进程名、内存占用 -->
        <GroupBox Grid.Column="0"
                  Margin="16"
                  materialDesign:ElevationAssist.Elevation="Dp6"
                  Header="进程列表"
                  FontSize="20"
                  Style="{StaticResource MaterialDesignCardGroupBox}">
            <ListView
                ItemsSource="{Binding ProcessInfos}"
                SelectedItem="{Binding SelectedProcessInfo}">
                <ListView.View>
                    <GridView>
                        <GridViewColumn
                            DisplayMemberBinding="{Binding ProcessId}"
                            Header="PID" />
                        <GridViewColumn
                            DisplayMemberBinding="{Binding ProcessName}"
                            Header="进程名" />
                        <GridViewColumn
                            DisplayMemberBinding="{Binding MemorySize}"
                            Header="内存占用(MB)" />
                    </GridView>
                </ListView.View>
            </ListView>
        </GroupBox>
        <!-- 右侧进程详情 -->
        <GroupBox Grid.Column="1"
                  Margin="16"
                  materialDesign:ElevationAssist.Elevation="Dp6"
                  Header="进程详情"
                  FontSize="20"
                  Style="{StaticResource MaterialDesignCardGroupBox}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="Auto"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <!-- 进程ID、进程名、进程所在路径 -->
                <Grid Grid.Row="0" Margin="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"></ColumnDefinition>
                        <ColumnDefinition Width="200"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="进程ID:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.ProcessId}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="进程名:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.ProcessName}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="进程所在路径:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.ProcessPath}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                </Grid>
                <!-- 开始时间、线程数量、内存占用 -->
                <Grid Grid.Row="1" Margin="20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="250"></ColumnDefinition>
                        <ColumnDefinition Width="200"></ColumnDefinition>
                        <ColumnDefinition Width="*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="开始时间:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.StartTime}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="线程数量:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.ThreadCount}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="内存占用:" Style="{StaticResource MaterialDesignBody1TextBlock}"></TextBlock>
                        <TextBlock Text="{Binding SelectedProcessInfo.MemorySize}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" VerticalAlignment="Center">
                        </TextBlock>
                    </StackPanel>
                </Grid>
                <!-- 包含模块信息 -->
                <Grid Grid.Row="2" Margin="20">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <ListView
                            ItemsSource="{Binding SelectedProcessInfo.Modules}">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn
                                        DisplayMemberBinding="{Binding ModuleName}"
                                        Header="模块名" />
                                    <GridViewColumn
                                        DisplayMemberBinding="{Binding ModulePath}"
                                        Header="模块路径" />
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </ScrollViewer>
                </Grid>
            </Grid>
        </GroupBox>
    </Grid>
</Window>